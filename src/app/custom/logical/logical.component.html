<main>
    <div class="position-relative">
        <!-- shape Hero -->
        <section class="section section-shaped pb-0">
            <div class="shape shape-style-1 shape-default">
            </div>
        </section>
        <section class="section section-sm " *ngIf="currentStorie != null">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-sm-8 offset-1">
                        <div>

                            <div class="row text-center">
                                <div class="col-sm-3" *ngFor="let fact of  currentStorie.facts">
                                    <img [src]="'assets/img/logical/'+ fact.head" alt="figure"
                                         [ngbTooltip]="fact.headTooltip">
                                </div>
                            </div>
                            <div class="row text-center mt-2 mb-2">
                                <div class="col-sm-3" *ngFor="let fact of  currentStorie.facts; let index = index">
                                    <button class="btn btn-primary" (click)="verifyFact(index)"
                                            [disabled]="nbChecked == 2">verifier
                                    </button>
                                </div>
                            </div>
                            <div class="row text-center">
                                <div class="col-sm-3" *ngFor="let fact of  currentStorie.facts">
                                    <div *ngIf="!fact.verified">
                                        <img src="assets/img/logical/unknow.png" alt="figure" ngbTooltip="non verifier">
                                    </div>
                                    <div *ngIf="fact.verified" [ngClass]="getFactClass(fact)">
                                        <img [src]="'assets/img/logical/'+ fact.tail" alt="figure"
                                             [ngbTooltip]="fact.tailTooltip">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-3">
                        <div class=" ">
                            La tache de sélection de Peter Wason  est un test très bien décrit dans cette vidéo =><a
                                href="https://www.youtube.com/watch?v=1c1jZQ9Bkq0&ab_channel=Hygi%C3%A8neMentale"
                                target="_blank">Ep10 Raisonner de façon correcte (Testez votre logique)</a><br><br>
                            Règle :
                            <ul>
                                <li>Si une pièce comporte un roi sur une face alors elle a un trèfle sur l’autre</li>
                                <li>Seul 2 pièces peuvent être retournés</li>
                                <li>Choisir si les pièces confirment ou réfute la règle</li>
                            </ul>
                        </div>

                        <div class=" ">
                            <button class="  btn btn-danger" (click)="selectChoice('REFUTE')"
                                    [disabled]="nbChecked != 2 || currentChoice =='CONFIRM'">Refute la regle
                            </button>
                            <button class="  btn btn-success" (click)="selectChoice('CONFIRM')"
                                    [disabled]="nbChecked != 2 || currentChoice =='REFUTE'">Confirme la regle
                            </button>
                        </div>
                        <div class="mt-2" *ngIf="currentChoice != ''">
                            En vert : Confirme la regle <br>
                            En rouge : Refute la regle <br>
                            En orange : Aucun effet sur la regle
                        </div>
                        <div class="mt-2" *ngIf="currentChoice != ''">
                            <div *ngIf="currentStorie.rule == currentChoice && nbUselessChecked == 0 "
                                 class="btn btn-1 btn-outline-success"
                                 type="button">Réussite
                            </div>
                            <div *ngIf=" currentStorie.rule != currentChoice  && nbUselessChecked == 0" class="btn btn-1 btn-outline-danger"
                                 type="button">Mauvaise Réponse
                            </div>
                            <div *ngIf="nbUselessChecked != 0" class="btn btn-1 btn-outline-danger"
                                 type="button">Pas les bonnes pieces retournées
                            </div>


                            <div class="btn btn-1 btn-info" (click)="raz()"
                                 type="button">RESET
                            </div>

                        </div>

                    </div>
                </div>
            </div>
        </section>
        <section class="section section-sm">
            <div class="container  d-flex">
                <div class="col px-0">
                    <div class="row">
                        <div class="col-sm-12">
                            <h4> Credit :</h4>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-sm-12">
                            <ul>
                                <li>Hygiène Mentale : <a
                                        href="https://www.youtube.com/watch?v=1c1jZQ9Bkq0&ab_channel=Hygi%C3%A8neMentale"
                                        target="_blank">Ep10 Raisonner de façon correcte (Testez votre logique)</a></li>
                                <li> Steven Pinker : Rationalité (page 30)
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
</main>
